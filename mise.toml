[vars]
ddev_exec = "ddev exec -d /var/www/html/wp-content/plugins/axytos-woocommerce"

[tasks.exec]
description = "Exec inside plugin directory"
run = "{{ vars.ddev_exec}}"

[tasks.unit-tests]
description = "Run unit tests"
run = "{{ vars.ddev_exec }} vendor/bin/phpunit"

[tasks.lint]
description = "Lint the code"
run = "{{ vars.ddev_exec }} vendor/bin/phpcs"

[tasks.composer]
description = "Run composer"
run = "{{ vars.ddev_exec }} composer"

[tasks.i18n-pot]
description = "Generate .pot file for translations"
run = "{{ vars.ddev_exec }} wp i18n make-pot --exclude=wp-tests-dir . languages/axytos-wc.pot"

[tasks.i18n-po-de]
description = "Update .po file"
run = "{{ vars.ddev_exec }} wp i18n update-po languages/axytos-wc.pot languages/axytos-wc-de_DE.po"

[tasks.i18n-mo-de]
description = "Create .mo file"
run = "{{ vars.ddev_exec }} wp i18n make-mo languages/axytos-wc-de_DE.po languages/axytos-wc-de_DE.mo"
